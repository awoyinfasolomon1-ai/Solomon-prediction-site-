<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SOLOMON PREDICTION SITE</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-size: 2em;
      letter-spacing: 1px;
    }
    #timestamp {
      text-align: center;
      margin-top: 10px;
      font-size: 14px;
      color: #555;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background: #fff;
      margin-top: 20px;
    }
    th, td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: center;
    }
    th {
      background-color: #007BFF;
      color: white;
    }
    td {
      font-size: 16px;
    }
  </style>
</head>
<body>

<h1>SOLOMON PREDICTION SITE</h1>
<div id="timestamp">Last updated: --</div>

<table id="predictionTable">
  <thead>
    <tr>
      <th>Home Team</th>
      <th>Away Team</th>
      <th>Prediction</th>
      <th>Confidence</th>
      <th>Over/Under 2.5</th>
    </tr>
  </thead>
  <tbody>
    <!-- Predictions will be inserted here -->
  </tbody>
</table>

<script>
  async function fetchPredictions() {
    try {
      const today = new Date().toISOString().split('T')[0]; // Format: YYYY-MM-DD
      const url = `https://football-prediction-api.p.rapidapi.com/api/v2/predictions?market=classic&iso_date=${today}&federation=UEFA`;

      const response = await fetch(url, {
        method: 'GET',
        headers: {
          'x-rapidapi-host': 'football-prediction.p.rapidapi.com',
          'x-rapidapi-key': '624aad1fa3mshd6aeb77bfb13c2ap113329jsnc7281a3719ae'
        }
      });

      const result = await response.json();
      const matches = result.data || [];

      const tableBody = document.querySelector('#predictionTable tbody');
      tableBody.innerHTML = '';

      if (matches.length > 0) {
        matches.forEach(match => {
          const prediction = match.prediction;
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${match.home_team}</td>
            <td>${match.away_team}</td>
            <td>${prediction.market_name || 'N/A'}</td>
            <td>${prediction.probability_home_team_win || 'N/A'}%</td>
            <td>${prediction.over_25 ? 'Over 2.5' : 'Under 2.5'}</td>
          `;
          tableBody.appendChild(row);
        });
      } else {
        const row = document.createElement('tr');
        row.innerHTML = `<td colspan="5">No predictions available</td>`;
        tableBody.appendChild(row);
      }

      const now = new Date();
      document.getElementById('timestamp').textContent = `Last updated: ${now.toLocaleTimeString()}`;
    } catch (error) {
      console.error('Error fetching predictions:', error);
    }
  }

  fetchPredictions();
  setInterval(fetchPredictions, 10000);
</script>

</body>
</html>
